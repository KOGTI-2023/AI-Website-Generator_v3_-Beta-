<!DOCTYPE html>
<html lang="de" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Website Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        card: "hsl(var(--card))",
                        "card-foreground": "hsl(var(--card-foreground))",
                        primary: "hsl(var(--primary))",
                        "primary-foreground": "hsl(var(--primary-foreground))",
                        muted: "hsl(var(--muted))",
                        "muted-foreground": "hsl(var(--muted-foreground))",
                        border: "hsl(var(--border))",
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer base {
            :root {
                --background: 240 10% 3.9%;
                --foreground: 0 0% 98%;
                --card: 240 10% 3.9%;
                --card-foreground: 0 0% 98%;
                --primary: 267 100% 61%; /* Violet glow */
                --primary-foreground: 0 0% 98%;
                --muted: 240 3.7% 15.9%;
                --muted-foreground: 240 5% 64.9%;
                --border: 240 3.7% 15.9%;
            }
            body {
                @apply bg-background text-foreground antialiased selection:bg-primary/30 selection:text-primary-foreground;
                background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            }
        }
        @layer components {
            .glass-panel {
                @apply bg-zinc-900/40 backdrop-blur-xl border border-white/10 shadow-xl;
            }
            .glow-border {
                @apply relative transition-all duration-300;
            }
            .glow-border:hover {
                @apply shadow-[0_0_20px_rgba(139,92,246,0.15)] border-primary/50;
            }
        }
    </style>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/ace.min.js"></script>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="pt-12 pb-8 px-4 text-center relative z-10">
        <div class="inline-flex items-center justify-center px-3 py-1 rounded-full border border-primary/30 bg-primary/10 text-primary text-xs font-medium mb-4 backdrop-blur-sm">
            âœ¨ Beta v3.0
        </div>
        <h1 class="text-4xl md:text-5xl font-bold tracking-tight mb-3 bg-clip-text text-transparent bg-gradient-to-b from-white to-white/60">
            AI Website Generator
        </h1>
        <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
            Beschreibe deine Website, und ich erstelle sie mit KI in Sekunden.
        </p>
    </header>

    <main class="flex-grow container mx-auto px-4 pb-20 max-w-5xl relative z-10">
        
        <!-- Input Section -->
        <div id="input-section" class="space-y-6 transition-all duration-500">
            <form id="prompt-form" class="space-y-6">
                
                <!-- Prompt Card -->
                <div class="glass-panel rounded-xl p-6 glow-border">
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <label for="prompt-input" class="text-sm font-medium text-foreground">Beschreibung</label>
                            <span class="text-xs text-muted-foreground">Sei so detailliert wie mÃ¶glich</span>
                        </div>
                        <textarea 
                            id="prompt-input" 
                            name="prompt" 
                            placeholder="z.B. Eine Landingpage fÃ¼r ein neues KI-gesteuertes Fotobearbeitungs-Tool, das sich an professionelle Fotografen richtet..." 
                            required 
                            rows="5" 
                            class="w-full bg-zinc-950/50 border border-input rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all placeholder:text-muted-foreground resize-none"
                        ></textarea>
                        
                        <!-- Examples -->
                        <div class="flex flex-wrap gap-2">
                            <span class="text-xs text-muted-foreground py-1">Beispiele:</span>
                            <button type="button" class="example-chip text-xs bg-zinc-800 hover:bg-zinc-700 text-zinc-300 px-3 py-1 rounded-full transition-colors border border-white/5" data-text="Eine moderne Portfolio-Website fÃ¼r einen Grafikdesigner mit dunklem Design, Galerie-Raster und Kontaktformular.">
                                ðŸŽ¨ Design Portfolio
                            </button>
                            <button type="button" class="example-chip text-xs bg-zinc-800 hover:bg-zinc-700 text-zinc-300 px-3 py-1 rounded-full transition-colors border border-white/5" data-text="Eine Landingpage fÃ¼r ein CafÃ© mit gemÃ¼tlicher AtmosphÃ¤re, Speisekarte, Ã–ffnungszeiten und Standortkarte.">
                                â˜• CafÃ© Landingpage
                            </button>
                            <button type="button" class="example-chip text-xs bg-zinc-800 hover:bg-zinc-700 text-zinc-300 px-3 py-1 rounded-full transition-colors border border-white/5" data-text="Startseite fÃ¼r ein Tech-Startup, das Cloud-LÃ¶sungen anbietet. Sauber, blaues Farbschema, Feature-Liste und Pricing.">
                                ðŸš€ Tech Startup
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Settings Card -->
                <div class="glass-panel rounded-xl p-6 glow-border">
                    <h3 class="text-sm font-medium text-foreground mb-4">Struktur & Inhalt</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="space-y-2">
                            <label for="language-select" class="text-xs font-medium text-muted-foreground">Sprache</label>
                            <select id="language-select" name="language" class="w-full bg-zinc-950/50 border border-input rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50">
                                <option value="German" selected>Deutsch</option>
                                <option value="English">English</option>
                                <option value="Spanish">EspaÃ±ol</option>
                                <option value="French">FranÃ§ais</option>
                                <option value="Italian">Italiano</option>
                            </select>
                        </div>
                        <div class="space-y-2">
                            <label for="page-type" class="text-xs font-medium text-muted-foreground">Seitentyp</label>
                            <select id="page-type" name="page-type" class="w-full bg-zinc-950/50 border border-input rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50">
                                <option value="Landing Page" selected>Landing Page</option>
                                <option value="Portfolio">Portfolio</option>
                                <option value="Blog Post">Blog Artikel</option>
                                <option value="Product Page">Produktseite</option>
                                <option value="Company Site">Unternehmensseite</option>
                            </select>
                        </div>
                        <div class="space-y-2">
                            <label for="image-count" class="text-xs font-medium text-muted-foreground">Anzahl Bilder</label>
                            <input type="number" id="image-count" name="image-count" min="1" max="10" value="3" class="w-full bg-zinc-950/50 border border-input rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50">
                        </div>
                    </div>

                    <div class="space-y-3">
                        <label class="text-xs font-medium text-muted-foreground">Abschnitte</label>
                        <div id="section-checkboxes" class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <label class="flex items-center space-x-2 cursor-pointer group">
                                <input type="checkbox" name="sections" value="Hero/Header" checked class="w-4 h-4 rounded border-zinc-700 bg-zinc-900 text-primary focus:ring-primary/50 accent-primary">
                                <span class="text-sm text-zinc-300 group-hover:text-white transition-colors">Hero/Header</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer group">
                                <input type="checkbox" name="sections" value="About Us" class="w-4 h-4 rounded border-zinc-700 bg-zinc-900 text-primary focus:ring-primary/50 accent-primary">
                                <span class="text-sm text-zinc-300 group-hover:text-white transition-colors">Ãœber Uns</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer group">
                                <input type="checkbox" name="sections" value="Services/Features" checked class="w-4 h-4 rounded border-zinc-700 bg-zinc-900 text-primary focus:ring-primary/50 accent-primary">
                                <span class="text-sm text-zinc-300 group-hover:text-white transition-colors">Services</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer group">
                                <input type="checkbox" name="sections" value="Gallery/Portfolio" class="w-4 h-4 rounded border-zinc-700 bg-zinc-900 text-primary focus:ring-primary/50 accent-primary">
                                <span class="text-sm text-zinc-300 group-hover:text-white transition-colors">Galerie</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer group">
                                <input type="checkbox" name="sections" value="Testimonials" class="w-4 h-4 rounded border-zinc-700 bg-zinc-900 text-primary focus:ring-primary/50 accent-primary">
                                <span class="text-sm text-zinc-300 group-hover:text-white transition-colors">Testimonials</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer group">
                                <input type="checkbox" name="sections" value="Contact Form" checked class="w-4 h-4 rounded border-zinc-700 bg-zinc-900 text-primary focus:ring-primary/50 accent-primary">
                                <span class="text-sm text-zinc-300 group-hover:text-white transition-colors">Kontakt</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer group">
                                <input type="checkbox" name="sections" value="Footer" checked class="w-4 h-4 rounded border-zinc-700 bg-zinc-900 text-primary focus:ring-primary/50 accent-primary">
                                <span class="text-sm text-zinc-300 group-hover:text-white transition-colors">Footer</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Action Button -->
                <button type="submit" id="generate-btn" class="w-full md:w-auto md:px-8 py-3 bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 mx-auto transform hover:-translate-y-0.5 active:translate-y-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.9 1.9a2 2 0 0 0 0 2.8l3.8 3.8a2 2 0 0 0 2.8 0L18.6 9.6c.2-.2.3-.4.3-.6 0-.6-.4-1-1-1h-1.6l-2-2z"/><path d="m2 22 1.5-1.5c.5-.5.5-1.3 0-1.8L2 17.2c-.5-.5-1.3-.5-1.8 0L.2 19c-.5.5-.5-1.3 0 1.8L2 22z"/><path d="M12.5 11.5 11 13c-1.2 1.2-1.2 3.1 0 4.2l1.8 1.8c1.2 1.2 3.1 1.2 4.2 0l1.5-1.5"/><path d="M4.5 4.5 3 6c-1.2 1.2-1.2 3.1 0 4.2l1.8 1.8c1.2 1.2 3.1 1.2 4.2 0l1.5-1.5"/></svg>
                    <span>Website Generieren</span>
                </button>
            </form>
        </div>

        <!-- Loading State -->
        <div id="loading-container" class="hidden glass-panel rounded-xl p-12 text-center max-w-2xl mx-auto mt-8">
            <div class="relative w-16 h-16 mx-auto mb-6">
                <div class="absolute inset-0 border-4 border-zinc-800 rounded-full"></div>
                <div class="absolute inset-0 border-4 border-primary rounded-full border-t-transparent animate-spin"></div>
            </div>
            <h3 class="text-xl font-semibold mb-2">Generiere Website...</h3>
            <p id="loading-text" class="text-muted-foreground mb-6">Analysiere deine Anfrage</p>
            
            <!-- Progress Bar -->
            <div class="w-full bg-zinc-800 rounded-full h-2 mb-1 overflow-hidden">
                <div id="progress-bar-fill" class="bg-primary h-2 rounded-full transition-all duration-700 ease-out w-0 relative">
                     <div class="absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite]"></div>
                </div>
            </div>
            <div class="flex justify-between text-xs text-zinc-500 mt-2 font-mono">
                <span>Start</span>
                <span id="progress-percentage">0%</span>
            </div>
        </div>

        <!-- Result Section -->
        <div id="result-container" class="hidden space-y-4">
            <div class="glass-panel rounded-xl overflow-hidden shadow-2xl border border-white/5">
                <!-- Tabs -->
                <div class="tabs flex border-b border-white/5 bg-zinc-950/50 backdrop-blur-md sticky top-0 z-20">
                    <button class="tab-button active px-6 py-3 text-sm font-medium text-zinc-400 hover:text-white border-b-2 border-transparent hover:bg-white/5 transition-all data-[selected=true]:text-primary data-[selected=true]:border-primary" data-tab="preview">
                        Vorschau
                    </button>
                    <button class="tab-button px-6 py-3 text-sm font-medium text-zinc-400 hover:text-white border-b-2 border-transparent hover:bg-white/5 transition-all data-[selected=true]:text-primary data-[selected=true]:border-primary" data-tab="html">
                        HTML
                    </button>
                    <button class="tab-button px-6 py-3 text-sm font-medium text-zinc-400 hover:text-white border-b-2 border-transparent hover:bg-white/5 transition-all data-[selected=true]:text-primary data-[selected=true]:border-primary" data-tab="css">
                        CSS
                    </button>
                    <button class="tab-button px-6 py-3 text-sm font-medium text-zinc-400 hover:text-white border-b-2 border-transparent hover:bg-white/5 transition-all data-[selected=true]:text-primary data-[selected=true]:border-primary" data-tab="images">
                        Bilder & Assets
                    </button>
                </div>

                <!-- Content -->
                <div class="tab-content-wrapper relative bg-zinc-900 min-h-[60vh]">
                    <div id="preview-content" class="tab-content active h-[70vh]" hidden>
                        <iframe id="preview-frame" class="w-full h-full border-0 bg-white" title="Generated Website Preview" sandbox="allow-scripts"></iframe>
                    </div>
                    <div id="html-content" class="tab-content h-[70vh]" hidden>
                        <div id="html-editor" class="w-full h-full"></div>
                    </div>
                    <div id="css-content" class="tab-content h-[70vh]" hidden>
                        <div id="css-editor" class="w-full h-full"></div>
                    </div>
                    <div id="images-content" class="tab-content h-[70vh] p-6 overflow-y-auto" hidden>
                        <div id="image-gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                    </div>
                </div>

                <!-- Footer / Controls -->
                <div class="bg-zinc-950/80 border-t border-white/5 p-4 flex flex-col md:flex-row justify-between items-center gap-4">
                    <div class="flex items-center gap-2">
                         <button id="undo-btn" class="p-2 rounded-md hover:bg-white/10 text-zinc-400 disabled:opacity-30 disabled:hover:bg-transparent" disabled title="RÃ¼ckgÃ¤ngig">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9h13a5 5 0 0 1 0 10H7"/><path d="m6 12 4-3-4-3"/></svg>
                        </button>
                        <button id="redo-btn" class="p-2 rounded-md hover:bg-white/10 text-zinc-400 disabled:opacity-30 disabled:hover:bg-transparent" disabled title="Wiederholen">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 9H8a5 5 0 0 0 0 10h9"/><path d="m18 12 4 3-4 3"/></svg>
                        </button>
                    </div>
                    <div class="flex gap-3">
                        <button id="update-preview-btn" class="px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-md text-sm font-medium transition-colors flex items-center gap-2">
                             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                             Vorschau aktualisieren
                        </button>
                        <button id="export-btn" class="px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-md text-sm font-medium transition-colors shadow-lg shadow-primary/20 flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                            <span>Download .zip</span>
                        </button>
                    </div>
                </div>
            </div>
            
             <button onclick="location.reload()" class="mx-auto block text-xs text-muted-foreground hover:text-white mt-4 underline">
                Neue Website erstellen
            </button>
        </div>

    </main>

    <footer class="py-6 text-center text-xs text-muted-foreground relative z-10">
        <p>Powered by Google Gemini API & Imagen 3</p>
    </footer>

    <script type="importmap">
    {
        "imports": {
            "@google/genai": "https://esm.sh/@google/genai@^0.12.0"
        }
    }
    </script>
    <script type="module" src="index.tsx"></script>
</body>
</html>